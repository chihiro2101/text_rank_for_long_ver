scott 's campaign to take mexico city general gideon johnson pillow 's division cut a road for artillery through the pedregal to engage the entrenched mexican forces under general gabriel valencia at contreras on 20 august forces had managed to drive the mexicans from their positions near the base of chapultepec castle guarding mexico city from the west , but army engineers were still interested in the southern causeways to the city , 1974 , the mexican war , 1846–1848 , new york : macmillan , general scott held a council of war with his generals and engineers on september 11 most of scott 's officers favored the attack through the southern gates , including captain robert e general lopez de santa anna was in command of the army at mexico city , and understood that chapultepec castle was an important position for the defense of the city although santa anna 's total forces defending mexico city were larger than scott 's , he had to defend multiple positions , since he did not know from where the attack would come also defending the castle was the batallón de san blas under the command of lieutenant colonel felipe xicoténcatl , a hero of the battle , along with six cadets who died defending the castle thinking that the attack would come from the south , santa anna devoted preparation time and troops there , both before and during the bombardment troops were actually on the hill , but that was too late only when the bombardment went on all day did santa anna realize the main attack was to be on chapultepec fire in the flat land below the hill , and they could not reach the hill to help the defenders there during the bombardment santa anna consulted with nicolás bravo , confessing to him that many of his demoralized troops were also likely melt away if sent into a situation that would have high casualties the first party consisted of captain samuel mackenzie 's 256 men and gideon pillow 's division , who would advance from the molino east up the hill on the left were the 11th and 14th infantry under colonel william trousdale moving east along the anzures aqueduct , in the center were four companies of the voltigeur regiment under colonel timothy patrick andrews along with the 9th and 15th infantry moving through the swamp and western edge of the grove , and on the right were the remaining four voltigeur companies under lieutenant colonel joseph e pillow was quickly hit in the foot and called for reinforcements , which came from john a andrews 's column cleared the grove of mexican troops and linked up with johnston quitman sent persifor smith 's brigade to his right and brought in james shields , plus the new york and 2d pennsylvania regiments into the assault by 9:00 am , general bravo surrendered to the new york regiment , and the american flag flew over the castle during the battle , niños héroes , and one of their instructors , refused to fall back when general bravo finally ordered retreat , and fought to the death according to legend , the last of the six , juan escutia , grabbed the mexican flag , wrapped it around himself , and jumped off the castle point to prevent the flag from falling into enemy hands thirty men from the saint patrick 's battalion , a group of former united states army soldiers who joined the mexican side , were executed en masse during the battle general scott later commented , '' brave rifles , you have gone through fire and come out steel '' at 1 am the next day , he ordered a withdrawal to guadalupe hidalgo while the city authorities appeared at scott 's headquarters at 4 am jack bauer gives the mexican casualties as approximately 3,000 ; including 823 taken prisoner army officers participating in the invasion became generals on both sides of the american civil war , including daniel h in mexico , the battle has a complicated place in historical memory , since the capture of chapultepec led to the fall of mexico city to the invaders the fierce defense of chapultepec by military cadets at the military academy , six of whom died by leaping from the walls to their deaths 