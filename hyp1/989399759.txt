, one in which the network was divided into areas ) so that each switching node does not need a map of the entire network , only the area ( s ) in which it is included as previously mentioned , the first main stage in the link-state algorithm is to give a map of the network to every node first , each node needs to determine what other ports it is connected to , over fully working links ; it does this using a reachability protocol which it runs periodically and separately with each of its directly connected neighbours next , each node periodically ( and in case of connectivity changes ) sends a short message , the link-state advertisement , which : identifies the node which is producing it includes a 'sequence number ' , which increases every time the source node makes up a new version of the message as a necessary precursor , each node in the network remembers , for every one of its neighbors , the sequence number of the last link-state message which it received from that node networks running link state algorithms can also be segmented into hierarchies which limit the scope of route changes these features mean that link state algorithms scale better to larger networks finally , with the complete set of link-state advertisements ( one from each node in the network ) in hand , each node produces the graph for the map of the network the algorithm iterates over the collection of link-state advertisements ; for each one , it makes links on the map of the network , from the node which sent that message , to all the nodes which that message indicates are neighbors of the sending node , if one node reports that it is connected to another , but the other node does not report that it is connected to the first , there is a problem , and the link is not included on the map to create the routing table , it is only necessary to walk the tree , remembering the identity of the node at the head of each branch , and filling in the routing table entry for each node one comes across with that identity also , the routing table would normally be filled in as the shortest-path tree is computed , instead of making it a separate operation for instance , a node that has only one connection to the network graph does not need to send lsa messages , as the information on its existence could be already included in the lsa message of its only neighbor if all the nodes are not working from exactly the same map , routing loops can form if two nodes start with different maps , it is possible to have scenarios in which routing loops are created variable access nodes across the interface protocol may also bypass the simultaneous access node problem individual nodes use the topology information to compute next hop paths regard to all nodes in the network using shortest hop forwarding paths 