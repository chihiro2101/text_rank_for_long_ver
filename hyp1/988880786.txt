for large n ( and the practical requirements of a phone switch are considered large ) this growth was too expensive not only did the switch require too much space , but the metal bars containing the switch contacts would become so long that they would sag and become unreliable the question is how many middle subswitches are needed , and therefore how many total wires should connect the input layer to the middle layer the basic algorithm for managing a three-layer switch is to search the middle subswitches for a middle subswitch that has unused wires to the needed input and output switches theoretically , in the example , only four central switches are needed , each with exactly one connection to each input switch and one connection to each output switch however , a bit of work with a pencil and paper will show that it is easy to get such a minimal switch into conditions in which no single middle switch has a connection to both the needed input switch and the needed output switch if an output switch is also half full with connections from the other two middle switches , then there is no remaining middle switch which can provide a path between that input and output for this reason , a '' simply connected nonblocking switch '' 16x16 switch with four input subswitches and four output switches was thought to require 7 middle switches ; in the worst case an almost-full input subswitch would use three middle switches , an almost-full output subswitch would use three different ones , and the seventh would be guaranteed to be free to make the last connection since , prior to the arrival of the new connection , the input and output subswitches each had at least one unused connection , both of these unused links must exist the algorithm proper only cares about the internal connections from input to output switch , although a practical implementation also has to keep track of the correct input and output switch connections likewise , each output subswitch appears in at most two connections in the first case , go back to the new connection 's input subswitch and follow its chain backward , assigning connections to paths through middle subswitches b and a in the same alternating pattern when this is done , each input or output subswitch in the chain has at most two connections passing through it , and they are assigned to different middle switches after the new connection pattern is designed in the software , then the electronics of the switch can actually be reprogrammed , physically moving the connections the electronic switches are designed internally so that the new configuration can be written into the electronics without disturbing the existing connection , and then take effect with a single logic pulse at the time , computers used tubes and were not reliable enough to control a phone system ( phone system switches are safety-critical , and they are designed to have an unplanned failure about once per thirty years ) however , the entire system could be designed so that when computers were reliable enough , they could be retrofitted to existing switching systems the new connection is more likely to work because it uses different circuitry the printed circuits were designed so that they could be removed and replaced without turning off the whole switch although each subswitch has limited multiplexing capability , working together they synthesize the effect of a larger n & times ; n crossbar switch in a modern digital telephone switch , application of two different multiplexer approaches in alternate layers further reduces the cost of the switching fabric : space-division multiplexers are something like the crossbar switches already described , or some arrangement of crossover switches or banyan switches design advantage : in space-division systems the number of space-division connections is divided by the number of time slots in the time-division multiplexing system since they have far fewer electrical connections to fail , they are far more reliable than space-division switches , and are therefore the preferred switches for the outer ( input and output ) layers of modern telephone switches first , it is typical to '' fold '' the switch , so that both the input and output connections to a subscriber-line are handled by the same control logic if the recursion is taken to the limit , breaking down the crossbar to the minimum possible number of switching elements , the resulting device is sometimes called a crossover switch or a banyan switch depending on its topology if a switch 's line fails , all lines of a switch are marked as in use multiplexer lines are allocated in a first-in-first out way , so that new connections find new switch elements as of 2018 , such switches are no longer made 